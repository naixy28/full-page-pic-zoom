(function(){const t=function(){let t=null,e=null,n=null,i={},o=300,s=40,l=30;yMinPadding=20;const d=t=>new Promise(e=>{setTimeout(e,t)});const c=function(){let t=0,e;return function(n){e=this.scrollTop;if(e<=0||e+this.clientHeight>=this.scrollHeight){u()}t=e}}();function r(){if(!t){t=new Image;t.classList.add("fp-curr-img");e=document.createElement("div");e.classList.add("fp-wrapper");e.appendChild(t);n=document.createElement("div");n.classList.add("fp-shadow","hidden");n.appendChild(e);document.body.appendChild(n);n.onscroll=c;n.onclick=function(){u()};t.onload=function(){}}return t}function a(o,l){t.src=o;i=l;let d=i.width/t.width;e.style.height="0";t.style.transform=`translate3d( ${i.left}px, ${i.top+s}px, 0 ) scale(${d})`;n.classList.remove("hidden");document.body.style.overflow="hidden"}function u(){let e=i.width/t.width,s=n.scrollTop;const l=()=>{t.style.transform=`translate3d( ${i.left}px, ${i.top+s}px, 0 ) scale(${e})`};t.classList.remove("active");new Promise(t=>{setTimeout(l,0);t()}).then(()=>d(o)).then(()=>{n.classList.add("hidden");document.body.style.overflow="auto"})}function f(){let i=window.innerWidth||1,o=window.innerHeight||1,d=t.width||0,c=t.height||0,r=i-d-l*2>=0?1:(i-l*2)/d,a=c*r+2*yMinPadding>=o?yMinPadding:(o-c*r)/2,u,f;u=i-d>=0?(i-d)/2:l;f=a+s;e.style.height=`${c*r+a*2+s*2}px`;n.scrollTop=s;let h=()=>{t.style.transform=`translate3d( ${u}px, ${f}px, 0 ) scale(${r})`};setTimeout(h,0);t.classList.add("active");return this}return{init(t,e){const n=r();a(t,e);f();return this},zoomIn:f,zoomOut:u}}();const e={};const n=function(){if(!this.complete)return;const e=this.src,n=this.getBoundingClientRect(),i={top:n.top,left:n.left,width:n.width,height:n.height};e&&t.init(e,i)};const i=function(t={}){const i=Object.assign({},e,t);document.addEventListener("click",function(t){if(t.target.nodeName==="IMG"&&t.target.dataset["fpImg"]){n.call(t.target)}})};const o=this;if(typeof exports!=="undefined"){if(module&&module.exports){exports=module.exports=i}exports.useFullPageImgPreview=i;console.log("FP could only be used in front end, dont use it in Node env :)")}else if(typeof define==="function"&&define.amd){define("FullPageImgPreview",function(){return i})}else{o["useFullPageImgPreview"]=i}}).call(this);